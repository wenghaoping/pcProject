webpackJsonp([7],{1004:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,l=t._self._c||o;return l("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"followup","element-loading-text":"拼命加载中"}},[l("div",{staticClass:"wrap-left",staticStyle:{height:"793px"}},[l("div",{staticClass:"top-search-box clearfix"},[l("div",{staticClass:"input-box fl"},[l("el-input",{attrs:{placeholder:"搜索关联项目",icon:"search","on-icon-click":t.handleIconClick},nativeOn:{keyup:function(o){if(!("button"in o)&&t._k(o.keyCode,"enter",13))return null;t.handleIconClick(o)}},model:{value:t.searchinput,callback:function(o){t.searchinput=o},expression:"searchinput"}})],1),t._v(" "),l("div",{staticClass:"btns-box fr"},[l("el-button",{attrs:{type:"primary"},on:{click:t.addFollow}},[t._v("写更进")])],1)]),t._v(" "),l("div",{staticClass:"top-lists",staticStyle:{height:"690px",cursor:"pointer"}},[[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"row-click":t.handleSelect,"header-click":t.headerClick,"sort-change":t.filterChange,"filter-change":t.filterChange}},[l("el-table-column",{attrs:{prop:"pro_name",label:"关联项目","show-overflow-tooltip":"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-tooltip",{attrs:{placement:"top",disabled:!(o.row.pro_name.length>8)}},[l("div",{slot:"content"},[l("div",{staticClass:"tips-txt"},[t._v(t._s(o.row.pro_name))])]),t._v(" "),l("div",[t._v("\n                  "+t._s(o.row.pro_name)+"\n                ")])]),t._v(" "),0===o.row.pro_name.length?l("div",[t._v("\n                --\n              ")]):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"card_name",label:"意向投资人","show-overflow-tooltip":"",width:"140",filters:t.card_nameFilters,"column-key":"card_name","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-tooltip",{attrs:{placement:"top",disabled:!(o.row.card_name.length>3)}},[l("div",{slot:"content"},[l("div",{staticClass:"tips-txt"},[t._v(t._s(o.row.card_name))])]),t._v(" "),l("div",[t._v("\n                  "+t._s(o.row.card_name)+"\n                ")])]),t._v(" "),0===o.row.card_name.length?l("div",[t._v("\n                --\n              ")]):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"schedule_name",label:"跟进状态","show-overflow-tooltip":"",width:"144",filters:t.schedule_nameFilters,"filter-multiple":t.stateCheck,"filter-placement":"bottom-end",sortable:"custom","column-key":"schedule_id"},scopedSlots:t._u([{key:"default",fn:function(o){return[""==o.row.schedule_name?l("div",[t._v("\n                --\n              ")]):l("div",["Hold"==o.row.schedule_name?l("el-tag",{attrs:{type:"primary"}},[t._v(t._s(o.row.schedule_name))]):"Reject"==o.row.schedule_name?l("el-tag",{attrs:{type:"danger"}},[t._v(t._s(o.row.schedule_name))]):l("el-tag",{attrs:{type:"success"}},[t._v(t._s(o.row.schedule_name))])],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"follow_desc",label:"跟进描述","show-overflow-tooltip":"",width:"289"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-tooltip",{attrs:{placement:"top",disabled:!(o.row.follow_desc.length>20)}},[l("div",{slot:"content"},[l("div",{staticClass:"tips-txt"},[t._v(t._s(o.row.follow_desc))])]),t._v(" "),l("div",[t._v("\n                  "+t._s(o.row.follow_desc)+"\n                ")])]),t._v(" "),0===o.row.follow_desc.length?l("div",[t._v("\n                --\n              ")]):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"follow_file_name",label:"项目文件","show-overflow-tooltip":"",width:"168"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-tooltip",{attrs:{placement:"top",disabled:!(o.row.follow_file_name.length>17)}},[l("div",{slot:"content"},[l("div",{staticClass:"tips-txt"},[t._v(t._s(o.row.follow_file_name))])]),t._v(" "),l("div",[t._v("\n                  "+t._s(o.row.follow_file_name)+"\n                ")])]),t._v(" "),0===o.row.follow_file_name.length?l("div",[t._v("\n                --\n              ")]):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"user_real_name",label:"跟进人","show-overflow-tooltip":"",width:"143"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-tooltip",{attrs:{placement:"top",disabled:!(o.row.user_real_name.length>3)}},[l("div",{slot:"content"},[l("div",{staticClass:"tips-txt"},[t._v(t._s(o.row.user_real_name))])]),t._v(" "),l("div",[t._v("\n                  "+t._s(o.row.user_real_name)+"\n                ")])]),t._v(" "),0===o.row.user_real_name.length?l("div",[t._v("\n                --\n              ")]):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"created_at",label:"跟进时间","show-overflow-tooltip":"",width:"172",filters:t.created_atFilters,"filter-multiple":t.stateCheck,"column-key":"create_at",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(o){return[""==o.row.created_at?l("div",[t._v("\n                --\n              ")]):t._e(),t._v(" "),l("div",{attrs:{else:""}},[t._v("\n                "+t._s(o.row.created_at)+"\n              ")])]}}])}),t._v(" "),l("el-table-column",{staticClass:"set-th",attrs:{prop:"reset",label:"重置",width:"130"},scopedSlots:t._u([{key:"default",fn:function(o){return[l("el-button",{staticClass:"flow-btn btn-cur",attrs:{type:"text",size:"small"},on:{click:function(l){t.handleEdit(o.$index,o.row)}}},[t._v("\n                编辑\n              ")]),t._v(" "),l("el-button",{staticClass:"send-btn btn-cur",attrs:{type:"text",size:"small"},on:{click:function(l){t.handleDelete(o.$index,o.row)}}},[t._v("\n                删除\n              ")])]}}])})],1),t._v(" "),l("div",{staticClass:"timeCheck"},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",editable:!1,"picker-options":t.pickerOptions},on:{change:t.timeChange},model:{value:t.timeSelect,callback:function(o){t.timeSelect=o},expression:"timeSelect"}})],1),t._v(" "),t.totalData>10?l("div",{staticClass:"pagenav"},[l("el-pagination",{attrs:{small:"","current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.totalData},on:{"current-change":t.filterChangeCurrent,"update:currentPage":function(o){t.currentPage=o}}})],1):t._e()]],2)]),t._v(" "),l("addfollow",{attrs:{"dialog-follow":t.dialogFollow,followid:t.followid},on:{changeClose:t.closeFollow}})],1)},staticRenderFns:[]}},754:function(t,o,l){l(933);var e=l(170)(l(846),l(1004),null,null);t.exports=e.exports},767:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAKBJREFUOBFjZMACvvr4bP3PwOCFLMXIwLCNe8sWb2QxEJsFXQDEB2nm5uQUZly9+h2YHxoq9PX797fY1FIsxvjFx+cW0BRVMk26TaY+LNqALgF6nTiArJaJOC24VeE0ANkWZDa6UTgNQFeIiz9qAFLI4AtpJGVgJrJalED8HxgojK4YnY+uBp4bQdn16+/fb4Cmo+tB4QPVMDAyMm6FCQIAWO4vMabI2wAAAAAASUVORK5CYII="},768:function(t,o){t.exports="data:image/gif;base64,R0lGODlhgACAAKIEAN3d3bu7u////5mZmf///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjZEQUY1MTZCQjcwMTFFNTk2MEZBMUI3OTA4NTc3QTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjZEQUY1MTdCQjcwMTFFNTk2MEZBMUI3OTA4NTc3QTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNkRBRjUxNEJCNzAxMUU1OTYwRkExQjc5MDg1NzdBMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNkRBRjUxNUJCNzAxMUU1OTYwRkExQjc5MDg1NzdBMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDP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"},774:function(t,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["dialogFollow","followid","projectid","projectname","cardid","cardname"],data:function(){return{uploadAddress:this.URL.weitianshiLine+"api/v/project/uploadFile",loading:!1,loading2:!1,showList:!1,dialogFileVisible:!1,getFollow:{},fileuploadDate:{user_id:localStorage.user_id,flag:1},restaurants:[],userArr:[],timeout:null,fileList:[],uploadShow:{lists:[]},groups:{input:"",group:[],type:"",name:""},statusLast:0,loadingcheck:!1,follow_id:"",investor_id:"",value:"",follow:{project_id:"",project_name:"",card_id:"",card_name:"",schedule_id:"",follow_desc:"",file_id:[],follow_id:"",type:""},schedule_name:[],project_name:[],saveJumpData:{},submitButton:!1}},methods:{handleClose:function(t){this.$emit("changeClose",!1)},saveSecond:function(){this.allSave(),this.follow=this.saveJumpData},handleSelectProject:function(t){this.follow.project_id="",this.follow.project_id=t.label},querySearchProject:function(t,o){var l=this,e=new Object;e.user_id=localStorage.user_id,e.search=t,e.page=0,e.type="follow",this.$http.post(this.URL.getProjectList,e).then(function(t){l.restaurants=[];var e=t.data.data;l.restaurants=l.loadData(e);var i=l.restaurants;clearTimeout(l.timeout),l.timeout=setTimeout(function(){o(i)},300)}).catch(function(t){})},handleSelect:function(t){var o=this;this.follow.card_id=t.label,this.follow.type=t.type||"card";var l=t.value,e=t.na||"";if(0==t.label){if(this.$tool.getNull(e))return this.$tool.error("名字不能为空"),this.follow.card_name="",!1;l.length>30?(this.$tool.error("名字不能超过20个字"),this.follow.card_name=""):this.$confirm("是否添加该人脉, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.loading=!0,o.$http.post(o.URL.createUserCard,{user_id:localStorage.user_id,user_real_name:t.na}).then(function(l){o.loading=!1,o.$tool.success("添加成功"),o.follow.card_id=l.data.card_id,o.follow.card_name=t.na}).catch(function(l){o.loading=!1,o.$tool.error("添加失败"),o.$tool.console(l),o.follow.card_name=t.na})}).catch(function(){o.$message({type:"info",message:"已取消添加"}),o.follow.card_name=e,o.follow.card_id=""})}},querySearchAsync:function(t,o){var l=this;this.$http.post(this.URL.match_my_relation,{user_id:localStorage.user_id,user_name:t}).then(function(e){l.userArr=[];var i=e.data.data;l.userArr=l.loadDataUser(i,t);var a=l.userArr;clearTimeout(l.timeout),l.timeout=setTimeout(function(){o(a)},300)}).catch(function(t){})},loadData:function(t){for(var o=[],l=0;l<t.length;l++){var e={};e.value=t[l].pro_intro.toString()||"无介绍",e.label=t[l].project_id,o.push(e)}return o},loadDataUser:function(t,o){var l=[];l=[{value:"新增‘"+o+"’为意向投资人",label:0,na:o}],""==o&&(l=[]);for(var e=0;e<t.length;e++){var i={};i.value=t[e].user_real_name+"("+t[e].user_company_name+")",""==t[e].user_company_name&&(i.value=t[e].user_real_name),i.label=t[e].card_id,i.type=t[e].type,l.push(i)}return l},getScheduleName:function(){this.schedule_name=this.$global.data.follow_schedule},getFileType:function(t){for(var o=[],l=0;l<t.length;l++){var e={};e.label=t[l].type_name,e.value=t[l].type_id,o.push(e)}return o},setFileType:function(){var t=this;this.$http.post(this.URL.getFileType,{user_id:localStorage.user_id}).then(function(o){var l=o.data.data;t.groups.group=t.getFileType(l)}).catch(function(o){t.$tool.console(o)})},setUploadShow:function(t){for(var o=0;o<t.length;o++)this.addDomain(t[o].type_name,t[o].file_title+"."+t[o].file_ext,t[o].file_id,t[o].type)},getFollowUp:function(){var t=this;""!=this.follow_id&&(this.loading=!0,this.uploadShow.lists=[],this.fileList=[],this.$http.post(this.URL.get_follow_record,{user_id:localStorage.user_id,follow_id:this.follow_id}).then(function(o){var l=o.data.data;l.file_id=[],t.follow=l,t.setUploadShow(l.files),t.loading=!1}).catch(function(o){t.$tool.console(o),t.loading=!1}))},beforeUpload:function(t){this.num++;var o=[".doc",".ppt",".pdf",".zip",".rar",".pptx",".png",".jpg",".docx",".jpeg"],l=t.name,e=l.substring(l.lastIndexOf(".")).toLowerCase(),i=!1;if(o&&o.length>0)for(var a=0;a<o.length;a++)if(o[a]==e){i=!0;break}return i?parseInt(t.size)>parseInt(20971521)?(this.$tool.error(t.name+"超过20m文件大小"),!1):(this.addDomain("其他",t.name,0,4,!0,t.uid),void this.subButtonCheck(this.uploadShow.lists)):(this.$tool.error(t.name+"是不支持的文件格式"),!1)},handleChange:function(t,o){},uploadsuccess:function(t,o,l){var e=t.data;this.$tool.success("上传成功"),this.deleteLoad(o.uid),this.addDomain(e.type_name,e.file_title,e.file_id,e.type,!1,o.uid),this.subButtonCheck(this.uploadShow.lists)},uploaderror:function(t,o,l){this.$tool.error("上传失败,请联系管理员")},download:function(t){var o=this.uploadShow.lists.indexOf(t);if(-1!==o){var l=this.uploadShow.lists[o].file_id,e=this.URL.weitianshi+this.URL.download+"?user_id="+localStorage.user_id+"&file_id="+l;window.location.href=e,this.$tool.console(e)}},removeList:function(t){var o=this,l=this.uploadShow.lists.indexOf(t);-1!==l&&(this.fileList.splice(l,1),this.$http.post(this.URL.deleteAtFile,{user_id:localStorage.user_id,file_id:t.file_id}).then(function(t){200===t.status&&(o.loading=!1,o.uploadShow.lists.splice(l,1),o.$tool.success("删除成功"))}).catch(function(t){o.$tool.console(t),o.$tool.error("删除失败,请联系管理员")}))},addDomain:function(t,o,l,e,i,a){var n={};n.bp_type=t,n.file_title=o,n.file_id=l,n.type=e,n.load=i,n.uid=a,this.uploadShow.lists.push(n),this.follow.file_id.push(l)},deleteLoad:function(t){for(var o=this.uploadShow.lists,l=0;l<o.length;l++)o[l].uid==t&&o.splice(l,1)},subButtonCheck:function(t){for(var o=0;o<t.length;o++){if(t[o].load)return this.submitButton=!0,!1;this.submitButton=!1}},groupchange:function(t){for(var o=this.groups.index,l=this.groups.group,e=0;e<l.length;e++)l[e].value==t&&(this.groups.name=l[e].label,this.uploadShow.lists[o].type=t)},addGroup:function(t){var o=this;this.$refs[t].validate(function(t){if(!t)return o.$tool.console("error submit!!"),!1;o.$http.post(o.URL.createFileType,{user_id:localStorage.user_id,type_name:o.groups.input}).then(function(t){var l=t.data,e={};e.type=o.groups.input,e.label=o.groups.input,e.value=l.type_id,o.groups.type=l.type_id,o.groups.group.push(e),o.groups.input=""}).catch(function(t){o.$tool.console(t)})})},saveGroupChange:function(){var t=this,o=(this.groups.type,this.groups.index),l=this.groups.name;this.$http.post(this.URL.setFileType,{user_id:localStorage.user_id,file_id:this.uploadShow.lists[o].file_id,type:this.uploadShow.lists[o].type}).then(function(e){-1!==o&&(t.uploadShow.lists[o].bp_type=l,t.dialogFileVisible=!1)}).catch(function(o){t.$tool.console(o)})},toGroup:function(t){this.groups.type=t.type,console.log(t);var o=this.uploadShow.lists.indexOf(t);this.groups.index=o,this.dialogFileVisible=!0},submitForm:function(t){var o=!0;return this.$refs[t].validate(function(t){o=t}),o},allSave:function(){var t=this,o=this.submitForm("follow");console.log(this.follow),""==this.follow.card_name&&(this.follow.card_id=""),this.$tool.getNull(this.follow.card_id)&&!this.$tool.getNull(this.follow.card_name)?this.$tool.error("请选择或添加正确的投资人"):this.$tool.getNull(this.follow.project_id)?this.$tool.error("请选择正确的项目"):this.$tool.getNull(this.follow.project_name)?this.$tool.error("请选择正确的项目"):o?(this.follow.follow_id=this.follow_id,""==this.follow.follow_id&&delete this.follow.follow_id,delete this.follow.files,this.follow.user_id=localStorage.user_id,this.$tool.console(this.$tool.getToObject(this.follow)),this.loading=!0,this.$http.post(this.URL.add_follow_record,this.follow).then(function(o){t.$tool.console(o),2e6==o.data.status_code?(t.follow_id=o.data.data,t.open2("跟进编辑成功","保存成功","继续添加","返回")):t.$tool.error(o.data.error_msg),t.loading=!1}).catch(function(o){t.loading=!1,t.$tool.console(o)})):this.$tool.error("跟进描述不超过500字")},open2:function(t,o,l,e){var i=this;this.$confirm(o,t,{confirmButtonText:l,cancelButtonText:e,type:"success"}).then(function(){i.clearData(),i.follow_id=""}).catch(function(){i.$emit("changeClose",!1),i.clearData(),i.follow_id=""})},clearData:function(){for(var t in this.follow)this.follow[t]="";this.follow.file_id=[],this.uploadShow.lists=[],this.fileList=[],this.follow.project_id=this.projectid||"",this.follow.project_name=this.projectname||"",this.follow.card_id=this.cardid||"",this.follow.card_name=this.cardname||"",this.investor_id=this.investorid||"",this.saveJumpData=this.follow}},created:function(){},watch:{followid:function(t){},dialogFollow:function(t){var o=this;t?(this.clearData(),this.$global.func.getWxProjectCategory(),this.getScheduleName(),this.follow_id=this.followid||"",this.setFileType(),setTimeout(function(){o.getFollowUp()},200)):this.follow_id=""}},mounted:function(){}}},776:function(t,o,l){o=t.exports=l(740)(!0),o.push([t.i,"#addFollow .dialogFollow .uploadImg{width:15px;height:15px;display:inline-block}#addFollow .dialogFollow .uploadImg img{width:100%}#addFollow .dialogFollow .addTitle{font-size:20px;color:#1f2d3d;line-height:20px;margin-bottom:48px}#addFollow .dialogFollow .addTitle span{margin:0 8px;font-weight:bolder}#addFollow .dialogFollow .block-info{height:16px;line-height:16px;font-size:14px}#addFollow .dialogFollow .f-title{color:#5e6d82;max-width:91px}#addFollow .dialogFollow .f-name,#addFollow .dialogFollow .f-title{line-height:38px;height:38px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block}#addFollow .dialogFollow .f-name{color:#475669;text-decoration:underline;box-sizing:border-box;max-width:195px}#addFollow .dialogFollow .del-btn{display:table;line-height:38px;height:38px;margin-left:6px;margin-right:6px;color:red;cursor:pointer}#addFollow .dialogFollow .block-cc-file{margin-top:58px;height:50px}#addFollow .dialogFollow .block-cc-pro{margin-top:32px;height:38px}#addFollow .dialogFollow .block-cc-pro .f-tips{font-size:12px;color:#5e6d82;line-height:38px;height:38px}#addFollow .dialogFollow .block-cc-other{margin-top:22px}#addFollow .dialogFollow .block-cc-other .solt-btn{font-size:14px;color:#009eff;line-height:14px;cursor:pointer;line-height:38px;height:38px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:80px;display:inline-block}#addFollow .el-dialog--small{width:470px}#addFollow .el-dialog__body{width:410px;margin:0 auto}#addFollow .el-radio-group{line-height:3!important}#addFollow .el-radio{margin-left:0!important;min-width:111px}","",{version:3,sources:["E:/RQJ/Git/pcProject/src/views/workBench/followUp/addFollow.vue"],names:[],mappings:"AACA,oCACE,WAAY,AACZ,YAAa,AACb,oBAAsB,CACvB,AACD,wCACE,UAAY,CACb,AACD,mCACE,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,kBAAoB,CACrB,AACD,wCACE,aAAc,AACd,kBAAoB,CACrB,AACD,qCACE,YAAa,AACb,iBAAkB,AAClB,cAAgB,CACjB,AACD,kCACE,cAAe,AAMf,cAAgB,CAEjB,AACD,mEARE,iBAAkB,AAClB,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,uBAAwB,AAExB,oBAAsB,CAavB,AAXD,iCACE,cAAe,AAGf,0BAA2B,AAC3B,sBAAuB,AAIvB,eAAiB,CAElB,AACD,kCACE,cAAe,AACf,iBAAkB,AAClB,YAAa,AACb,gBAAiB,AACjB,iBAAkB,AAClB,UAAW,AACX,cAAgB,CACjB,AACD,wCACE,gBAAiB,AACjB,WAAa,CACd,AACD,uCACE,gBAAiB,AACjB,WAAa,CACd,AACD,+CACE,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,WAAa,CACd,AACD,yCACE,eAAiB,CAClB,AACD,mDACE,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,eAAgB,AAChB,iBAAkB,AAClB,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,uBAAwB,AACxB,eAAgB,AAChB,oBAAsB,CACvB,AACD,6BACE,WAAa,CACd,AACD,4BACE,YAAa,AACb,aAAe,CAChB,AACD,2BACE,uBAAyB,CAC1B,AACD,qBACE,wBAA2B,AAC3B,eAAiB,CAClB",file:"addFollow.vue",sourcesContent:["\n#addFollow .dialogFollow .uploadImg {\n  width: 15px;\n  height: 15px;\n  display: inline-block;\n}\n#addFollow .dialogFollow .uploadImg img {\n  width: 100%;\n}\n#addFollow .dialogFollow .addTitle {\n  font-size: 20px;\n  color: #1f2d3d;\n  line-height: 20px;\n  margin-bottom: 48px;\n}\n#addFollow .dialogFollow .addTitle span {\n  margin: 0 8px;\n  font-weight: bolder;\n}\n#addFollow .dialogFollow .block-info {\n  height: 16px;\n  line-height: 16px;\n  font-size: 14px;\n}\n#addFollow .dialogFollow .f-title {\n  color: #5e6d82;\n  line-height: 38px;\n  height: 38px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 91px;\n  display: inline-block;\n}\n#addFollow .dialogFollow .f-name {\n  color: #475669;\n  line-height: 38px;\n  height: 38px;\n  text-decoration: underline;\n  box-sizing: border-box;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 195px;\n  display: inline-block;\n}\n#addFollow .dialogFollow .del-btn {\n  display: table;\n  line-height: 38px;\n  height: 38px;\n  margin-left: 6px;\n  margin-right: 6px;\n  color: red;\n  cursor: pointer;\n}\n#addFollow .dialogFollow .block-cc-file {\n  margin-top: 58px;\n  height: 50px;\n}\n#addFollow .dialogFollow .block-cc-pro {\n  margin-top: 32px;\n  height: 38px;\n}\n#addFollow .dialogFollow .block-cc-pro .f-tips {\n  font-size: 12px;\n  color: #5e6d82;\n  line-height: 38px;\n  height: 38px;\n}\n#addFollow .dialogFollow .block-cc-other {\n  margin-top: 22px;\n}\n#addFollow .dialogFollow .block-cc-other .solt-btn {\n  font-size: 14px;\n  color: #009eff;\n  line-height: 14px;\n  cursor: pointer;\n  line-height: 38px;\n  height: 38px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 80px;\n  display: inline-block;\n}\n#addFollow .el-dialog--small {\n  width: 470px;\n}\n#addFollow .el-dialog__body {\n  width: 410px;\n  margin: 0 auto;\n}\n#addFollow .el-radio-group {\n  line-height: 3!important;\n}\n#addFollow .el-radio {\n  margin-left: 0px!important;\n  min-width: 111px;\n}\n#addFollow .radio {\n  /*      width: 370px;\n      display: inline-block;*/\n}\n"],sourceRoot:""}])},778:function(t,o,l){var e=l(776);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);l(741)("9141f03c",e,!0)},780:function(t,o,l){l(778);var e=l(170)(l(774),l(782),null,null);t.exports=e.exports},782:function(t,o,l){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"addFollow","element-loading-text":"拼命加载中"}},[e("el-dialog",{attrs:{visible:t.dialogFollow,"custom-class":"dialogFollow","before-close":t.handleClose,"close-on-press-escape":"","close-on-click-modal":"","lock-scroll":""}},[e("div",{staticClass:"addTitle"},[e("span",[t._v(" | ")]),t._v("添加跟进\n    ")]),t._v(" "),e("div",{staticClass:"main"},[e("el-form",{ref:"follow",staticClass:"padding",attrs:{model:t.follow,"label-width":"100px","label-position":"top"}},[e("el-row",{attrs:{span:24}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"* 关联项目",prop:"project_name"}},[e("el-autocomplete",{staticStyle:{width:"360px"},attrs:{"fetch-suggestions":t.querySearchProject,placeholder:"一句话介绍，如帮助FA成交的项目管理工具",maxlength:20},on:{select:t.handleSelectProject},model:{value:t.follow.project_name,callback:function(o){t.follow.project_name=o},expression:"follow.project_name"}})],1)],1)],1),t._v(" "),e("el-row",{attrs:{span:24,gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"意向投资人",prop:"card_name"}},[e("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请选择或添加投资人",maxlength:20},on:{select:t.handleSelect},model:{value:t.follow.card_name,callback:function(o){t.follow.card_name=o},expression:"follow.card_name"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进进度",prop:"schedule_id"}},[e("el-select",{staticStyle:{width:"165px"},attrs:{placeholder:"请选择"},model:{value:t.follow.schedule_id,callback:function(o){t.follow.schedule_id=o},expression:"follow.schedule_id"}},t._l(t.schedule_name,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),e("el-row",{attrs:{span:24,gutter:32}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"跟进描述",prop:"follow_desc",rules:[{max:500,message:"长度不能大于500个字符",trigger:"blur"}]}},[e("el-input",{staticStyle:{width:"360px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:30},placeholder:"请输入"},model:{value:t.follow.follow_desc,callback:function(o){t.follow.follow_desc=o},expression:"follow.follow_desc"}})],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"block-info block-cc-pro",staticStyle:{"margin-top":"15px"}},[e("span",{staticClass:"f-title fl"},[t._v("项目文件")]),t._v(" "),e("span",{staticClass:"fl",staticStyle:{"margin-left":"34px"}},[e("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:t.uploadAddress,"on-change":t.handleChange,"on-success":t.uploadsuccess,"on-error":t.uploaderror,"before-upload":t.beforeUpload,"file-list":t.fileList,data:t.fileuploadDate,"show-file-list":t.showList,accept:".doc, .ppt, .pdf, .zip, .rar, .png, .docx, .jpg, .pptx, .jpeg",multiple:""}},[e("el-button",{attrs:{type:"primary"},slot:"trigger"},[e("i",{staticClass:"el-icon-plus"}),t._v("上传附件")])],1)],1)]),t._v(" "),t._l(t.uploadShow.lists,function(o,i){return e("div",{key:o.index,staticClass:"block-info block-cc-other",staticStyle:{"margin-bottom":"15px"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{slot:"content"},[t._v(t._s(o.bp_type))]),t._v(" "),e("span",{staticClass:"f-title fl"},[t._v(t._s(o.bp_type)+"：")])]),t._v(" "),e("el-tooltip",{attrs:{placement:"top"}},[e("div",{slot:"content"},[t._v(t._s(o.file_title))]),t._v(" "),e("span",{staticClass:"f-name fl",staticStyle:{cursor:"pointer"},on:{click:function(l){l.preventDefault(),t.download(o)}}},[t._v(t._s(o.file_title))])]),t._v(" "),o.load?t._e():e("span",{staticClass:"del-btn fl",on:{click:function(l){l.preventDefault(),t.removeList(o)}}},[e("img",{attrs:{src:l(767)}})]),t._v(" "),o.load?t._e():e("span",{staticClass:"solt-btn",on:{click:function(l){l.preventDefault(),t.toGroup(o)}}},[t._v("分组设置")]),t._v(" "),o.load?e("span",{staticClass:"uploadImg"},[e("img",{attrs:{src:l(768)}})]):t._e()],1)}),t._v(" "),e("div",{staticClass:"dialog-footer fr",staticStyle:{margin:"32px 0"},slot:"footer"},[e("el-button",{attrs:{type:"primary",disabled:t.submitButton},on:{click:t.allSave}},[t._v("提 交")])],1)],2)]),t._v(" "),e("el-dialog",{attrs:{title:"文件分组设置",visible:t.dialogFileVisible,"show-close":t.showList},on:{"update:visible":function(o){t.dialogFileVisible=o}}},[e("el-form",{ref:"groups",attrs:{model:t.groups}},[e("el-form-item",{attrs:{label:"分组名称","label-width":"80px",prop:"input",rules:[{required:!0,message:"分组不能为空",trigger:"blur",max:40,message:"不超过40个字符"}]}},[e("el-row",{attrs:{span:24,gutter:32}},[e("el-col",{attrs:{span:18}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:t.groups.input,callback:function(o){t.groups.input=o},expression:"groups.input"}})],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.addGroup("groups")}}},[t._v("添加")])],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"radio"},[e("el-radio-group",{on:{change:t.groupchange},model:{value:t.groups.type,callback:function(o){t.groups.type=o},expression:"groups.type"}},t._l(t.groups.group,function(o){return e("el-radio",{key:o.value,staticClass:"radio",attrs:{label:o.value}},[t._v(t._s(o.label)+"\n        ")])}))],1),t._v(" "),e("div",{staticClass:"dialog-footer",slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogFileVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.saveGroupChange}},[t._v("保　存")])],1)],1)],1)},staticRenderFns:[]}},846:function(t,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=l(780),i=l.n(e);o.default={components:{addfollow:i.a},data:function(){return{dialogFollow:!1,followid:"",loading:!1,searchinput:"",totalData:1,currentPage:1,getPra:{},tableData:[],schedule_nameFilters:[],card_nameFilters:[],created_atFilters:[],stateCheck:!1,timeSelect:"",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()-864e5+864e5}}}},methods:{handleIconClick:function(){var t=this;this.loading=!0,this.getPra.user_id=localStorage.user_id,this.getPra.pro_name=this.searchinput,this.currentPage=1,this.getPra.page=1,this.$http.post(this.URL.get_follow_records,this.getPra).then(function(o){var l=o.data.data;t.tableData=l.follow_record,t.totalData=l.count,t.loading=!1}).catch(function(o){t.loading=!1,t.$tool.console(o,2)})},addFollow:function(){this.dialogFollow=!0},handleSelect:function(t,o,l){"重置"!=l.label&&this.$router.push({name:"projectDetails",query:{project_id:t.project_id,show:"flow",activeTo:2}})},handleEdit:function(t,o){this.dialogFollow=!0,this.followid=o.follow_id},headerClick:function(t,o){"重置"===t.label&&window.location.reload()},handleDelete:function(t,o){var l=this;this.$confirm("此操作将永久删除该跟进, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.loading=!0,l.$http.post(l.URL.delete_follow_record,{user_id:localStorage.user_id,follow_id:o.follow_id}).then(function(t){l.loading=!1,l.$tool.success("删除成功"),l.handleIconClick()}).catch(function(t){l.loading=!1,l.$tool.error("删除失败"),l.$tool.console(t)})}).catch(function(){l.$message({type:"info",message:"已取消删除"})})},filterChange:function(t){var o=this;if(this.loading=!0,this.currentPage=1,this.getPra.page=1,this.getPra.user_id=localStorage.user_id,t.order)"ascending"==t.order?t.order="asc":t.order="desc",this.getPra[t.prop]=t.order;else for(var l in t)this.getPra[l]=t[l],"schedule_id"===l&&(this.getPra[l]=t[l][0]);for(var e in this.getPra)""!=this.getPra[e]&&"NaN"!=this.getPra[e]||delete this.getPra[e],"card_name"==e&&(this.getPra.card_name=this.filterInvestors(this.getPra.card_name));this.$tool.console(this.getPra),this.$http.post(this.URL.get_follow_records,this.getPra).then(function(t){var l=t.data.data;o.tableData=l.follow_record,o.totalData=l.count,o.loading=!1}).catch(function(t){o.loading=!1,o.$tool.console(t,2)})},filterChangeCurrent:function(t){var o=this;delete this.getPra.page,this.loading=!0,this.getPra.user_id=localStorage.user_id,this.getPra.page=t,this.$tool.console(this.getPra),this.$http.post(this.URL.get_follow_records,this.getPra).then(function(t){var l=t.data.data;o.tableData=l.follow_record,o.loading=!1}).catch(function(t){o.loading=!1,o.$tool.console(t,2)})},filterInvestors:function(t){if(t){for(var o=new Array,l=this.card_nameFilters,e=0;e<t.length;e++){for(var i=new Array,a=0;a<l.length;a++)t[e]==l[a].value&&(i[0]=l[a].value,i[1]=l[a].type);o.push(i)}return o}},timeChange:function(t){var o=this;this.loading=!0,this.currentPage=1,this.getPra.created_at_time=t,this.$http.post(this.URL.get_follow_records,this.getPra).then(function(t){var l=t.data.data;o.tableData=l.follow_record,o.totalData=l.count,o.loading=!1}).catch(function(t){o.loading=!1,o.$tool.console(t,2)})},closeFollow:function(t){this.dialogFollow=t,this.followid=""},getInvestors:function(t){for(var o=new Array,l=0;l<t.length;l++){var e=new Object;e.text=t[l].card_name,e.value=t[l].card_id,e.type=t[l].type,o.push(e)}return o},titleSift:function(){var t=this;this.loading=!0,this.$http.post(this.URL.getToInvestor,{user_id:localStorage.user_id}).then(function(o){var l=o.data.data;t.schedule_nameFilters=t.$tool.getTitleSift(l.schedule_name),t.card_nameFilters=t.getInvestors(l.investors),t.loading=!1}).catch(function(o){t.loading=!1,t.$tool.console(o,2)})}},created:function(){this.loading=!0,this.titleSift(),this.handleIconClick()},watch:{dialogFollow:function(t){t||this.handleIconClick()}}}},899:function(t,o,l){o=t.exports=l(740)(!0),o.push([t.i,"#followup .wrap-left{width:1336px;background:#fff}#followup .wrap-left .top-lists{position:relative}#followup .wrap-left .top-lists .img{width:36px;height:36px;border-radius:50%;background:#eff2f7;line-height:36px;text-align:center;font-size:14px;color:#40587a}#followup .wrap-left .top-lists .img img{width:100%}#followup .wrap-left .top-lists .add{width:35px;height:25px;margin-top:11px;padding-left:8px}#followup .wrap-left .top-lists .add img{width:100%}#followup .wrap-left .top-lists .name{margin-left:16px;line-height:36px}#followup .wrap-left .top-lists .table-thead{background:#e5e9f2;width:100%;height:50px}#followup .wrap-left .top-lists .table-thead .thead-item{text-align:left;line-height:50px;font-size:12px;color:#475669;padding-left:16px;font-weight:100;box-sizing:border-box}#followup .wrap-left .top-lists .item-1{width:211px;max-width:211px;padding-left:24px!important}#followup .wrap-left .top-lists .item-2{width:90px;max-width:90px}#followup .wrap-left .top-lists .item-3{width:75px;max-width:75px}#followup .wrap-left .top-lists .item-4{width:72px;max-width:72px}#followup .wrap-left .top-lists .item-5{width:90px;max-width:90px}#followup .wrap-left .top-lists .item-6{width:200px;max-width:200px}#followup .wrap-left .top-lists .item-7{width:80px;max-width:80px}#followup .wrap-left .top-lists .item-8{width:65px;max-width:65px}#followup .wrap-left .top-lists .item-9{width:55px;max-width:55px}#followup .wrap-left .top-lists .item-10{width:80px;max-width:80px}#followup .wrap-left .top-lists .item-11{width:120px;max-width:120px}#followup .wrap-left .top-lists .table-tbody .tbody-item{height:64px;font-size:12px;color:#1f2d3d;padding-left:16px;box-sizing:border-box}#followup .wrap-left .top-lists .flow-pop,#followup .wrap-left .top-lists .table-tbody .tbody-item{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#followup .wrap-left .top-lists .flow-pop .float-tip-window{position:absolute;left:0;top:0;background:rgba(31,45,61,.85);border-radius:2px;font-size:12px;white-space:normal;padding:8px 10px;line-height:16px;color:#fff}#followup .wrap-left .top-lists .flow-pop .float-tip-window .san-angle{position:absolute;border:6px solid transparent;border-top-color:rgba(31,45,61,.85);width:0;left:5%;top:99%;height:0}#followup .wrap-left .top-lists .tb-item-1 .pro-name{font-size:14px;color:#1f2d3d}#followup .wrap-left .top-lists .tb-item-1 .pro-txt{display:inline-block;width:100%;margin-top:6px;font-size:12px;color:#5e6d82;line-height:12px}#followup .wrap-left .top-lists .el-table{border:none}#followup .wrap-left .top-lists .el-table:after,#followup .wrap-left .top-lists .el-table:before{height:0;width:0}#followup .wrap-left .top-lists .el-table th{height:50px}#followup .wrap-left .top-lists .el-table td{height:64px}#followup .wrap-left .top-lists .el-table--striped .el-table__body tr:hover{background:#eef1f6}#followup .wrap-left .top-lists .el-table--striped .el-table__body tr:nth-child(2n){background:#f9fafc!important}#followup .wrap-left .top-lists thead th{font-size:12px;font-weight:100;border:none}#followup .wrap-left .top-lists thead th:first-child{padding-left:24px}#followup .wrap-left .top-lists thead th:nth-child(2){padding-left:20px}#followup .wrap-left .top-lists thead .el-table_1_column_11 .cell{color:#20a0ff;cursor:pointer}#followup .wrap-left .top-lists thead .el-table_1_column_8 .cell{color:#20a0ff!important}#followup .wrap-left .top-lists tbody td{border:none}#followup .wrap-left .top-lists tbody td .cell{font-size:12px}#followup .wrap-left .top-lists tbody td .cell div{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#followup .wrap-left .top-lists tbody td:first-child{padding-left:24px}#followup .wrap-left .top-lists tbody td:nth-child(2){padding-left:20px}#followup .wrap-left .top-lists tbody .edits-btn{margin-left:0;color:#c0ccda}#followup .wrap-left .top-lists tbody .btn-cur{color:#20a0ff!important}#followup .wrap-left .top-lists tbody .flow-btn,#followup .wrap-left .top-lists tbody .send-btn{color:#c0ccda;margin-left:5px}#followup .wrap-left .top-lists tbody .more{width:12px;display:inline-block;vertical-align:middle;margin-top:-4px;cursor:pointer}#followup .wrap-left .top-lists .el-table .cell{padding-left:0}#followup .wrap-left .top-lists .el-table .cell .el-tag{padding:0 10px}#followup .wrap-left .top-lists .el-table .cell .el-tag--gray{background:transparent;border:none}#followup .wrap-left .top-lists .el-table .cell .el-table__column-filter-trigger{margin-left:2px}#followup .wrap-left .top-lists .el-table .cell .caret-wrapper{margin-left:0;width:15px}#followup .wrap-left .top-search-box{padding:10px 24px}#followup .wrap-left .top-search-box .input-box{height:36px;line-height:36px;width:320px;border-radius:5px}#followup .wrap-left .top-search-box .input-box .el-input .el-input__inner{font-size:14px;background:#e5e9f2;border:0;border-radius:2px}#followup .pagenav{text-align:right;height:45px;padding-top:10px;background:#f3f4f8}#followup .pagenav .number,#followup .pagenav button{background:transparent}#followup .pagenav .active{background:#20a0ff}#followup .timeCheck{cursor:pointer;position:absolute;opacity:0;top:6px;right:190px}#followup .timeCheck .el-input{width:50px}#followup .timeCheck .el-input__icon{display:none}","",{version:3,sources:["E:/RQJ/Git/pcProject/src/views/workBench/followUp/followup.vue"],names:[],mappings:"AACA,qBACE,aAAc,AACd,eAAiB,CAClB,AACD,gCACE,iBAAmB,CACpB,AACD,qCACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,mBAAoB,AACpB,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AACD,yCACE,UAAY,CACb,AACD,qCACE,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,gBAAkB,CACnB,AACD,yCACE,UAAY,CACb,AACD,sCACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,6CACE,mBAAoB,AACpB,WAAY,AACZ,WAAa,CACd,AACD,yDACE,gBAAiB,AACjB,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,wCACE,YAAa,AACb,gBAAiB,AACjB,2BAA8B,CAC/B,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,YAAa,AACb,eAAiB,CAClB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,wCACE,WAAY,AACZ,cAAgB,CACjB,AACD,yCACE,WAAY,AACZ,cAAgB,CACjB,AACD,yCACE,YAAa,AACb,eAAiB,CAClB,AACD,yDACE,YAAa,AACb,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,qBAAuB,CAIxB,AACD,mGAJE,gBAAiB,AACjB,mBAAoB,AACpB,sBAAwB,CAMzB,AACD,4DACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,8BAAmC,AACnC,kBAAmB,AACnB,eAAgB,AAChB,mBAAoB,AACpB,iBAAkB,AAClB,iBAAkB,AAClB,UAAY,CACb,AACD,uEACE,kBAAmB,AACnB,6BAA8B,AAC9B,oCAAyC,AACzC,QAAW,AACX,QAAS,AACT,QAAS,AACT,QAAY,CACb,AACD,qDACE,eAAgB,AAChB,aAAe,CAChB,AACD,oDACE,qBAAsB,AACtB,WAAY,AACZ,eAAgB,AAChB,eAAgB,AAChB,cAAe,AACf,gBAAkB,CACnB,AACD,0CACE,WAAa,CACd,AACD,iGAEE,SAAU,AACV,OAAS,CACV,AACD,6CACE,WAAa,CACd,AACD,6CACE,WAAa,CACd,AACD,4EACE,kBAAoB,CACrB,AACD,oFACE,4BAA+B,CAChC,AACD,yCACE,eAAgB,AAChB,gBAAiB,AACjB,WAAa,CACd,AACD,qDACE,iBAAmB,CACpB,AACD,sDACE,iBAAmB,CACpB,AACD,kEACE,cAAe,AACf,cAAgB,CACjB,AACD,iEACE,uBAAyB,CAC1B,AAID,yCACE,WAAa,CACd,AACD,+CACE,cAAgB,CACjB,AACD,mDACE,gBAAiB,AACjB,mBAAoB,AACpB,sBAAwB,CACzB,AACD,qDACE,iBAAmB,CACpB,AACD,sDACE,iBAAmB,CACpB,AACD,iDACE,cAAe,AACf,aAAe,CAChB,AACD,+CACE,uBAA0B,CAC3B,AACD,gGAEE,cAAe,AACf,eAAiB,CAClB,AACD,4CACE,WAAY,AACZ,qBAAsB,AACtB,sBAAuB,AACvB,gBAAiB,AACjB,cAAgB,CACjB,AACD,gDACE,cAAgB,CACjB,AACD,wDACE,cAAgB,CACjB,AACD,8DACE,uBAAwB,AACxB,WAAa,CACd,AACD,iFACE,eAAiB,CAClB,AACD,+DACE,cAAe,AACf,UAAY,CACb,AACD,qCACE,iBAAmB,CACpB,AACD,gDACE,YAAa,AACb,iBAAkB,AAClB,YAAa,AACb,iBAAmB,CACpB,AACD,2EACE,eAAgB,AAChB,mBAAoB,AACpB,SAAY,AACZ,iBAAmB,CACpB,AACD,mBACE,iBAAkB,AAClB,YAAa,AACb,iBAAkB,AAClB,kBAAoB,CACrB,AACD,qDAEE,sBAAwB,CACzB,AACD,2BACE,kBAAoB,CACrB,AACD,qBACE,eAAgB,AAChB,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,WAAa,CACd,AACD,+BACE,UAAY,CACb,AACD,qCACE,YAAc,CACf",file:"followup.vue",sourcesContent:["\n#followup .wrap-left {\n  width: 1336px;\n  background: #fff;\n}\n#followup .wrap-left .top-lists {\n  position: relative;\n}\n#followup .wrap-left .top-lists .img {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: #eff2f7;\n  line-height: 36px;\n  text-align: center;\n  font-size: 14px;\n  color: #40587a;\n}\n#followup .wrap-left .top-lists .img img {\n  width: 100%;\n}\n#followup .wrap-left .top-lists .add {\n  width: 35px;\n  height: 25px;\n  margin-top: 11px;\n  padding-left: 8px;\n}\n#followup .wrap-left .top-lists .add img {\n  width: 100%;\n}\n#followup .wrap-left .top-lists .name {\n  margin-left: 16px;\n  line-height: 36px;\n}\n#followup .wrap-left .top-lists .table-thead {\n  background: #e5e9f2;\n  width: 100%;\n  height: 50px;\n}\n#followup .wrap-left .top-lists .table-thead .thead-item {\n  text-align: left;\n  line-height: 50px;\n  font-size: 12px;\n  color: #475669;\n  padding-left: 16px;\n  font-weight: 100;\n  box-sizing: border-box;\n}\n#followup .wrap-left .top-lists .item-1 {\n  width: 211px;\n  max-width: 211px;\n  padding-left: 24px !important;\n}\n#followup .wrap-left .top-lists .item-2 {\n  width: 90px;\n  max-width: 90px;\n}\n#followup .wrap-left .top-lists .item-3 {\n  width: 75px;\n  max-width: 75px;\n}\n#followup .wrap-left .top-lists .item-4 {\n  width: 72px;\n  max-width: 72px;\n}\n#followup .wrap-left .top-lists .item-5 {\n  width: 90px;\n  max-width: 90px;\n}\n#followup .wrap-left .top-lists .item-6 {\n  width: 200px;\n  max-width: 200px;\n}\n#followup .wrap-left .top-lists .item-7 {\n  width: 80px;\n  max-width: 80px;\n}\n#followup .wrap-left .top-lists .item-8 {\n  width: 65px;\n  max-width: 65px;\n}\n#followup .wrap-left .top-lists .item-9 {\n  width: 55px;\n  max-width: 55px;\n}\n#followup .wrap-left .top-lists .item-10 {\n  width: 80px;\n  max-width: 80px;\n}\n#followup .wrap-left .top-lists .item-11 {\n  width: 120px;\n  max-width: 120px;\n}\n#followup .wrap-left .top-lists .table-tbody .tbody-item {\n  height: 64px;\n  font-size: 12px;\n  color: #1f2d3d;\n  padding-left: 16px;\n  box-sizing: border-box;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#followup .wrap-left .top-lists .flow-pop {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#followup .wrap-left .top-lists .flow-pop .float-tip-window {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(31, 45, 61, 0.85);\n  border-radius: 2px;\n  font-size: 12px;\n  white-space: normal;\n  padding: 8px 10px;\n  line-height: 16px;\n  color: #fff;\n}\n#followup .wrap-left .top-lists .flow-pop .float-tip-window .san-angle {\n  position: absolute;\n  border: 6px solid transparent;\n  border-top-color: rgba(31, 45, 61, 0.85);\n  width: 0px;\n  left: 5%;\n  top: 99%;\n  height: 0px;\n}\n#followup .wrap-left .top-lists .tb-item-1 .pro-name {\n  font-size: 14px;\n  color: #1f2d3d;\n}\n#followup .wrap-left .top-lists .tb-item-1 .pro-txt {\n  display: inline-block;\n  width: 100%;\n  margin-top: 6px;\n  font-size: 12px;\n  color: #5e6d82;\n  line-height: 12px;\n}\n#followup .wrap-left .top-lists .el-table {\n  border: none;\n}\n#followup .wrap-left .top-lists .el-table::before,\n#followup .wrap-left .top-lists .el-table::after {\n  height: 0;\n  width: 0;\n}\n#followup .wrap-left .top-lists .el-table th {\n  height: 50px;\n}\n#followup .wrap-left .top-lists .el-table td {\n  height: 64px;\n}\n#followup .wrap-left .top-lists .el-table--striped .el-table__body tr:hover {\n  background: #eef1f6;\n}\n#followup .wrap-left .top-lists .el-table--striped .el-table__body tr:nth-child(2n) {\n  background: #f9fafc !important;\n}\n#followup .wrap-left .top-lists thead th {\n  font-size: 12px;\n  font-weight: 100;\n  border: none;\n}\n#followup .wrap-left .top-lists thead th:nth-child(1) {\n  padding-left: 24px;\n}\n#followup .wrap-left .top-lists thead th:nth-child(2) {\n  padding-left: 20px;\n}\n#followup .wrap-left .top-lists thead .el-table_1_column_11 .cell {\n  color: #20a0ff;\n  cursor: pointer;\n}\n#followup .wrap-left .top-lists thead .el-table_1_column_8 .cell {\n  color: #20a0ff!important;\n}\n#followup .wrap-left .top-lists thead .el-table_1_column_1 .cell {\n  /*            margin-left: 53px;*/\n}\n#followup .wrap-left .top-lists tbody td {\n  border: none;\n}\n#followup .wrap-left .top-lists tbody td .cell {\n  font-size: 12px;\n}\n#followup .wrap-left .top-lists tbody td .cell div {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#followup .wrap-left .top-lists tbody td:nth-child(1) {\n  padding-left: 24px;\n}\n#followup .wrap-left .top-lists tbody td:nth-child(2) {\n  padding-left: 20px;\n}\n#followup .wrap-left .top-lists tbody .edits-btn {\n  margin-left: 0;\n  color: #c0ccda;\n}\n#followup .wrap-left .top-lists tbody .btn-cur {\n  color: #20a0ff !important;\n}\n#followup .wrap-left .top-lists tbody .flow-btn,\n#followup .wrap-left .top-lists tbody .send-btn {\n  color: #c0ccda;\n  margin-left: 5px;\n}\n#followup .wrap-left .top-lists tbody .more {\n  width: 12px;\n  display: inline-block;\n  vertical-align: middle;\n  margin-top: -4px;\n  cursor: pointer;\n}\n#followup .wrap-left .top-lists .el-table .cell {\n  padding-left: 0;\n}\n#followup .wrap-left .top-lists .el-table .cell .el-tag {\n  padding: 0 10px;\n}\n#followup .wrap-left .top-lists .el-table .cell .el-tag--gray {\n  background: transparent;\n  border: none;\n}\n#followup .wrap-left .top-lists .el-table .cell .el-table__column-filter-trigger {\n  margin-left: 2px;\n}\n#followup .wrap-left .top-lists .el-table .cell .caret-wrapper {\n  margin-left: 0;\n  width: 15px;\n}\n#followup .wrap-left .top-search-box {\n  padding: 10px 24px;\n}\n#followup .wrap-left .top-search-box .input-box {\n  height: 36px;\n  line-height: 36px;\n  width: 320px;\n  border-radius: 5px;\n}\n#followup .wrap-left .top-search-box .input-box .el-input .el-input__inner {\n  font-size: 14px;\n  background: #e5e9f2;\n  border: 0px;\n  border-radius: 2px;\n}\n#followup .pagenav {\n  text-align: right;\n  height: 45px;\n  padding-top: 10px;\n  background: #f3f4f8;\n}\n#followup .pagenav button,\n#followup .pagenav .number {\n  background: transparent;\n}\n#followup .pagenav .active {\n  background: #20a0ff;\n}\n#followup .timeCheck {\n  cursor: pointer;\n  position: absolute;\n  opacity: 0;\n  top: 6px;\n  right: 190px;\n}\n#followup .timeCheck .el-input {\n  width: 50px;\n}\n#followup .timeCheck .el-input__icon {\n  display: none;\n}\n"],sourceRoot:""}])},933:function(t,o,l){var e=l(899);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);l(741)("1504405e",e,!0)}});
//# sourceMappingURL=7.js.map